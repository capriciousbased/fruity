{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mdanisulhoquekhan/Desktop/fruity/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mdanisulhoquekhan/Desktop/fruity/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mdanisulhoquekhan/Desktop/fruity/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import Tabs from\"@material-ui/core/Tabs\";import Tab from\"@material-ui/core/Tab\";import TabProducts from\"./TabProducts\";import{makeStyles}from\"@material-ui/core/styles\";import ProductTabContent from\"./ProductTabContent\";import\"./ProductsTabBar.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{tableContent:{backgroundColor:\"#616161\",width:\"60%\",margin:\"auto\",color:\"white\",textAlign:\"center\",marginTop:0,marginBottom:60},table:{width:\"60%\"}};});var ProductsTabBar=function ProductsTabBar(props){var url=\"https://api.predic8.de\";var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allCategories=_useState2[0],setAllCategories=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),tabValue=_useState6[0],setTabValue=_useState6[1];var getCategories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,categories,filtered,categorieUrl,getproductsByCategorie;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.predic8.de/shop/categories/\");case 2:res=_context.sent;categories=res.data.categories;_context.next=6;return categories.filter(function(element){return element.hasOwnProperty(\"name\")&&isNaN(element.name);});case 6:filtered=_context.sent;categorieUrl=filtered.map(function(element){return url+element.category_url;});_context.next=10;return categorieUrl.map(function(url){return axios.get(url).then(function(res){return res.data;}).catch(function(err){return console.log(err);});});case 10:getproductsByCategorie=_context.sent;_context.next=13;return axios.all(getproductsByCategorie).then(function(res){return setAllCategories(res);});case 13:setLoading(false);case 14:case\"end\":return _context.stop();}}},_callee);}));return function getCategories(){return _ref.apply(this,arguments);};}();useEffect(function(){getCategories();},[]);var handleTabs=function handleTabs(event,newValue){setTabValue(newValue);};return/*#__PURE__*/_jsx(\"div\",{children:isLoading?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading....\"}):/*#__PURE__*/_jsxs(\"div\",{className:classes.tableContent,children:[/*#__PURE__*/_jsxs(Tabs,{onChange:handleTabs,value:tabValue,variant:\"scrollable\",children:[allCategories.map(function(category,index){return/*#__PURE__*/_jsx(Tab,{label:category.name},index);}),/*#__PURE__*/_jsx(Tab,{label:\"All Products\"})]}),allCategories.map(function(category,index){return/*#__PURE__*/_jsx(ProductTabContent,{value:tabValue,data:category.products,index:index},index);}),/*#__PURE__*/_jsx(TabProducts,{value:tabValue,data:allCategories,index:allCategories.length})]})});};export default ProductsTabBar;","map":{"version":3,"sources":["/Users/mdanisulhoquekhan/Desktop/fruity/src/components/ProductListTab/ProductsTabBar.js"],"names":["React","useEffect","useState","axios","Tabs","Tab","TabProducts","makeStyles","ProductTabContent","useStyles","theme","tableContent","backgroundColor","width","margin","color","textAlign","marginTop","marginBottom","table","ProductsTabBar","props","url","classes","allCategories","setAllCategories","isLoading","setLoading","tabValue","setTabValue","getCategories","get","res","categories","data","filter","element","hasOwnProperty","isNaN","name","filtered","categorieUrl","map","category_url","then","catch","err","console","log","getproductsByCategorie","all","handleTabs","event","newValue","category","index","products","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport TabProducts from \"./TabProducts\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ProductTabContent from \"./ProductTabContent\";\nimport \"./ProductsTabBar.module.css\";\n\nconst useStyles = makeStyles((theme) => ({\n  tableContent: {\n    backgroundColor: \"#616161\",\n    width: \"60%\",\n    margin: \"auto\",\n    color: \"white\",\n    textAlign:\"center\",\n   marginTop:0,\n   marginBottom:60,\n    \n    \n  },\n  table: {\n    width: \"60%\",\n  },\n}));\n\nconst ProductsTabBar = (props) => {\n  const url = \"https://api.predic8.de\";\n\n  const classes = useStyles();\n  const [allCategories, setAllCategories] = useState([]);\n  const [isLoading, setLoading] = useState(true);\n  const [tabValue, setTabValue] = useState(0);\n\n  const getCategories = async () => {\n    const res = await axios.get(\"https://api.predic8.de/shop/categories/\");\n    const categories = res.data.categories;\n    const filtered = await categories.filter((element) => {\n      return element.hasOwnProperty(\"name\") && isNaN(element.name);\n    });\n    const categorieUrl = filtered.map((element) => {\n      return url + element.category_url;\n    });\n    const getproductsByCategorie = await categorieUrl.map((url) => {\n      return axios\n        .get(url)\n        .then((res) => res.data)\n        .catch((err) => console.log(err));\n    });\n\n    await axios\n      .all(getproductsByCategorie)\n      .then((res) => setAllCategories(res));\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getCategories();\n  }, []);\n\n  const handleTabs = (event, newValue) => {\n    setTabValue(newValue);\n  };\n\n  return (\n    <div>\n      {isLoading ? (\n        <h1>Loading....</h1>\n      ) : (\n        <div className={classes.tableContent}>\n          <Tabs onChange={handleTabs} value={tabValue} variant=\"scrollable\">\n            {allCategories.map((category, index) => {\n              return <Tab label={category.name} key={index}></Tab>;\n            })}\n            <Tab label=\"All Products\" />\n          </Tabs>\n          {allCategories.map((category, index) => {\n            return (\n              <ProductTabContent\n                key={index}\n                value={tabValue}\n                data={category.products}\n                index={index}\n              />\n            );\n          })}\n          <TabProducts\n            value={tabValue}\n            data={allCategories}\n            index={allCategories.length}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProductsTabBar;\n"]},"metadata":{},"sourceType":"module"}