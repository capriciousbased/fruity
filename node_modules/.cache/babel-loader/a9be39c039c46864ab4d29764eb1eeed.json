{"ast":null,"code":"var _jsxFileName = \"/Users/mdanisulhoquekhan/Desktop/fruity/src/components/AvailableProducts/AvailableProducts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport SearchBar from \"./SearchBar\";\nimport AvailableProductsTable from \"./AvailableProductsTable\";\nimport ProductCard from \"./ProductCard\";\nimport \"./AvailableProducts.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AvailableProducts = props => {\n  _s();\n\n  const url = \"https://api.predic8.de\";\n  const [product, setroduct] = ueState(initialState);\n  const [searchTerm, setSearchTerm] = useState(\"\"); //get products from API\n\n  const getProducts = async () => {\n    const res = await axios.get(url + \"/shop/products/\");\n    const allProducts = res.data.products;\n    const getPriceUrl = await allProducts.map(product => {\n      return url + product.product_url;\n    }); //promises for every url\n\n    const getPrice = await getPriceUrl.map(url => {\n      return axios.get(url).then(res => res.data).catch(err => console.log(err));\n    });\n    axios.all(getPrice).then(res => setProducts(res));\n  };\n\n  const handleSearch = event => {\n    setSearchTerm(event.target.value);\n  };\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table\",\n    children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n      products: products,\n      onSearch: handleSearch,\n      searchTerm: searchTerm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"List of available products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductCard, {\n      searchTerm: searchTerm,\n      products: products,\n      url: url\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Product List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AvailableProductsTable, {\n      searchTerm: searchTerm,\n      products: products,\n      url: url\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AvailableProducts, \"Tngw7yRuBicxNU1h+Qu7anZ1xPc=\");\n\n_c = AvailableProducts;\nexport default AvailableProducts;\n\nvar _c;\n\n$RefreshReg$(_c, \"AvailableProducts\");","map":{"version":3,"sources":["/Users/mdanisulhoquekhan/Desktop/fruity/src/components/AvailableProducts/AvailableProducts.js"],"names":["React","useState","useEffect","axios","SearchBar","AvailableProductsTable","ProductCard","AvailableProducts","props","url","product","setroduct","ueState","initialState","searchTerm","setSearchTerm","getProducts","res","get","allProducts","data","products","getPriceUrl","map","product_url","getPrice","then","catch","err","console","log","all","setProducts","handleSearch","event","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,sBAAP,MAAmC,0BAAnC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAO,yBAAP;;;AAEA,MAAMC,iBAAiB,GAAIC,KAAD,IAAW;AAAA;;AACnC,QAAMC,GAAG,GAAG,wBAAZ;AAEA,QAAM,CAACC,OAAD,EAAUC,SAAV,IAAuBC,OAAO,CAACC,YAAD,CAApC;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC,EAAD,CAA5C,CAJmC,CAKnC;;AACA,QAAMe,WAAW,GAAG,YAAY;AAC9B,UAAMC,GAAG,GAAG,MAAMd,KAAK,CAACe,GAAN,CAAUT,GAAG,GAAG,iBAAhB,CAAlB;AACA,UAAMU,WAAW,GAAGF,GAAG,CAACG,IAAJ,CAASC,QAA7B;AAEA,UAAMC,WAAW,GAAG,MAAMH,WAAW,CAACI,GAAZ,CAAiBb,OAAD,IAAa;AACrD,aAAOD,GAAG,GAAGC,OAAO,CAACc,WAArB;AACD,KAFyB,CAA1B,CAJ8B,CAO9B;;AACA,UAAMC,QAAQ,GAAG,MAAMH,WAAW,CAACC,GAAZ,CAAiBd,GAAD,IAAS;AAC9C,aAAON,KAAK,CACTe,GADI,CACAT,GADA,EAEJiB,IAFI,CAEET,GAAD,IAASA,GAAG,CAACG,IAFd,EAGJO,KAHI,CAGGC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHX,CAAP;AAID,KALsB,CAAvB;AAOAzB,IAAAA,KAAK,CAAC4B,GAAN,CAAUN,QAAV,EAAoBC,IAApB,CAA0BT,GAAD,IAASe,WAAW,CAACf,GAAD,CAA7C;AACD,GAhBD;;AAkBA,QAAMgB,YAAY,GAAIC,KAAD,IAAW;AAC9BnB,IAAAA,aAAa,CAACmB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb;AACD,GAFD;;AAGAlC,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,WAAW;AACZ,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA,4BACE,QAAC,SAAD;AACE,MAAA,QAAQ,EAAEK,QADZ;AAEE,MAAA,QAAQ,EAAEY,YAFZ;AAGE,MAAA,UAAU,EAAEnB;AAHd;AAAA;AAAA;AAAA;AAAA,YADF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANF,eAOE,QAAC,WAAD;AAAa,MAAA,UAAU,EAAEA,UAAzB;AAAqC,MAAA,QAAQ,EAAEO,QAA/C;AAAyD,MAAA,GAAG,EAAEZ;AAA9D;AAAA;AAAA;AAAA;AAAA,YAPF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARF,eASE,QAAC,sBAAD;AACE,MAAA,UAAU,EAAEK,UADd;AAEE,MAAA,QAAQ,EAAEO,QAFZ;AAGE,MAAA,GAAG,EAAEZ;AAHP;AAAA;AAAA;AAAA;AAAA,YATF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAiBD,CAhDD;;GAAMF,iB;;KAAAA,iB;AAkDN,eAAeA,iBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport SearchBar from \"./SearchBar\";\nimport AvailableProductsTable from \"./AvailableProductsTable\";\nimport ProductCard from \"./ProductCard\";\nimport \"./AvailableProducts.css\";\n\nconst AvailableProducts = (props) => {\n  const url = \"https://api.predic8.de\";\n\n  const [product, setroduct] = ueState(initialState)\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  //get products from API\n  const getProducts = async () => {\n    const res = await axios.get(url + \"/shop/products/\");\n    const allProducts = res.data.products;\n\n    const getPriceUrl = await allProducts.map((product) => {\n      return url + product.product_url;\n    });\n    //promises for every url\n    const getPrice = await getPriceUrl.map((url) => {\n      return axios\n        .get(url)\n        .then((res) => res.data)\n        .catch((err) => console.log(err));\n    });\n\n    axios.all(getPrice).then((res) => setProducts(res));\n  };\n\n  const handleSearch = (event) => {\n    setSearchTerm(event.target.value);\n  };\n  useEffect(() => {\n    getProducts();\n  }, []);\n\n  return (\n    <div className=\"table\">\n      <SearchBar\n        products={products}\n        onSearch={handleSearch}\n        searchTerm={searchTerm}\n      />\n      <h1>List of available products</h1>\n      <ProductCard searchTerm={searchTerm} products={products} url={url} />\n      <h1>Product List</h1>\n      <AvailableProductsTable\n        searchTerm={searchTerm}\n        products={products}\n        url={url}\n      />\n    </div>\n  );\n};\n\nexport default AvailableProducts;\n"]},"metadata":{},"sourceType":"module"}