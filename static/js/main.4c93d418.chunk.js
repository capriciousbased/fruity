(this["webpackJsonpcoding-challenge"]=this["webpackJsonpcoding-challenge"]||[]).push([[0],{31:function(e,t,n){},40:function(e,t,n){e.exports={table:"ProductsTabBar_table__2e2sW",tabContent:"ProductsTabBar_tabContent__3-1f6"}},68:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(24),i=n.n(r),s=(n(68),n(37)),u=n(7),o=n(56),l=n(127),j=n(126),d=n(26),b=n.n(d),h=n(32),p=n(17),x=n(23),O=n.n(x),f=n(130),m=n(122),v=(n(31),n(2)),g=function(e){return Object(v.jsx)("div",{className:"search_nav",children:Object(v.jsx)(f.a,{position:"static",color:"primary",children:Object(v.jsx)(m.a,{children:Object(v.jsx)("input",{className:"searchBar",position:"relative",type:"text",placeholder:"Search...",onChange:e.onSearch})})})})},y=n(10),_=n.n(y),C=function(e){var t=e.searchTerm,n=e.products,c=e.url,a=n.map((function(e){return{name:_.a.capitalize(e.name),photo_url:e.photo_url,category_url:e.category_url,price:e.price}})),r=_.a.uniqBy(a,(function(e){return e.name}));return Object(v.jsxs)("table",{className:"contentTable",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Image"}),Object(v.jsx)("th",{children:"Product"}),Object(v.jsx)("th",{children:"Price"})]})}),Object(v.jsx)("tbody",{children:r.filter((function(e){return""===e||e.name.toLowerCase().includes(t.toLowerCase())?e:void 0})).map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:Object(v.jsx)("img",{className:"image",src:c+e.photo_url,alt:"Not Available"})}),Object(v.jsxs)("th",{children:[e.name," "]}),Object(v.jsxs)("th",{children:[e.price.toFixed(2)+" \u20ac"," "]})]},t)}))})]})},w=function(e){var t=e.searchTerm,n=e.products,c=e.url,a=n.map((function(e){return{name:_.a.capitalize(e.name),photo_url:e.photo_url,category_url:e.category_url,price:e.price}})),r=_.a.uniqBy(a,(function(e){return e.name}));return console.log(r),Object(v.jsx)("div",{className:"allCards",children:r.filter((function(e){return""===e||e.name.toLowerCase().includes(t.toLowerCase())?e:void 0})).map((function(e,t){return Object(v.jsx)("div",{className:"productCard",children:Object(v.jsxs)(s.b,{to:"products/".concat(e.id),children:[Object(v.jsx)("img",{src:c+e.photo_url,className:"productImage",alt:"not available"}),Object(v.jsx)("div",{className:"text",children:Object(v.jsxs)("div",{className:"first",children:[Object(v.jsx)("h2",{children:e.name}),Object(v.jsxs)("p",{children:["Price: ",e.price," \u20ac "]})]})})]})},t)}))})},N=function(e){var t="https://api.predic8.de",n=Object(c.useState)([]),a=Object(p.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)(""),u=Object(p.a)(s,2),o=u[0],l=u[1],j=function(){var e=Object(h.a)(b.a.mark((function e(){var n,c,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(t+"/shop/products/");case 2:return n=e.sent,c=n.data.products,e.next=6,c.map((function(e){return t+e.product_url}));case 6:return a=e.sent,e.next=9,a.map((function(e){return O.a.get(e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}));case 9:r=e.sent,O.a.all(r).then((function(e){return i(e)}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){j()}),[]),Object(v.jsxs)("div",{className:"table",children:[Object(v.jsx)(g,{products:r,onSearch:function(e){l(e.target.value)},searchTerm:o}),Object(v.jsx)("h1",{children:"List of available products"}),Object(v.jsx)(w,{searchTerm:o,products:r,url:t}),Object(v.jsx)("h1",{children:"Product List"}),Object(v.jsx)(C,{searchTerm:o,products:r,url:t})]})},P=n(129),L=n(124),S=(n(40),function(e){var t=e.data,n=_.a.map(t,"products"),c=_.a.flatten(n,"name").map((function(e){return _.a.startCase(_.a.toLower(e.name))})),a=_.a.chain(c).union(c).filter((function(e){return e.length>3&&e.length<18&&!e.includes("Product")})).value(),r=function(e){var t=e.children,n=e.value,c=e.index;return Object(v.jsx)("div",{children:n===c&&t})};return Object(v.jsx)(r,{value:e.value,index:e.index,children:Object(v.jsx)("div",{className:"tabContent",children:a.map((function(e,t){return Object(v.jsx)("p",{children:e},t)}))})})}),T=n(123),B=function(e){var t=e.data,n=e.index,c=function(e){var t=e.children,n=e.value,c=e.index;return Object(v.jsx)("div",{children:n===c&&t})},a=t.map((function(e){return _.a.startCase(_.a.toLower(e.name))})),r=_.a.chain(a).union(a).filter((function(e){return e.length>3&&e.length<18&&!e.includes("Product")})).value();return Object(v.jsx)(c,{value:e.value,index:n,children:Object(v.jsx)("div",{className:"tabContent",children:r.map((function(e,t){return Object(v.jsx)("p",{children:e},t)}))})})},k=Object(T.a)((function(e){return{tableContent:{backgroundColor:"#616161",width:"60%",margin:"auto",color:"white",textAlign:"center",marginTop:0,marginBottom:60},table:{width:"60%"}}})),W=function(e){var t=k(),n=Object(c.useState)([]),a=Object(p.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)(!0),u=Object(p.a)(s,2),o=u[0],l=u[1],j=Object(c.useState)(0),d=Object(p.a)(j,2),x=d[0],f=d[1],m=function(){var e=Object(h.a)(b.a.mark((function e(){var t,n,c,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://api.predic8.de/shop/categories/");case 2:return t=e.sent,n=t.data.categories,e.next=6,n.filter((function(e){return e.hasOwnProperty("name")&&isNaN(e.name)}));case 6:return c=e.sent,a=c.map((function(e){return"https://api.predic8.de"+e.category_url})),e.next=10,a.map((function(e){return O.a.get(e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}));case 10:return r=e.sent,e.next=13,O.a.all(r).then((function(e){return i(e)}));case 13:l(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){m()}),[]);return Object(v.jsx)("div",{children:o?Object(v.jsx)("h1",{children:"Loading...."}):Object(v.jsxs)("div",{className:t.tableContent,children:[Object(v.jsxs)(P.a,{onChange:function(e,t){f(t)},value:x,variant:"scrollable",children:[r.map((function(e,t){return Object(v.jsx)(L.a,{label:e.name},t)})),Object(v.jsx)(L.a,{label:"All Products"})]}),r.map((function(e,t){return Object(v.jsx)(B,{value:x,data:e.products,index:t},t)})),Object(v.jsx)(S,{value:x,data:r,index:r.length})]})})};var A=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(N,{}),Object(v.jsx)(W,{})]})},E=n(30),I=n(3),q=n(125),z=n(128);function F(e){var t=e.children,n=e.value,c=e.index,a=Object(I.a)(e,["children","value","index"]);return Object(v.jsx)("div",Object(E.a)(Object(E.a)({role:"tabpanel",hidden:n!==c,id:"simple-tabpanel-".concat(c),"aria-labelledby":"simple-tab-".concat(c)},a),{},{children:n===c&&Object(v.jsx)(z.a,{p:2,children:Object(v.jsx)(q.a,{children:t})})}))}function J(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function H(e){var t=a.a.useState(0),n=Object(p.a)(t,2),c=n[0],r=n[1];return Object(v.jsxs)("div",{children:[Object(v.jsx)(f.a,{position:"static",children:Object(v.jsxs)(P.a,{value:c,onChange:function(e,t){r(t)},"aria-label":"simple tabs example",children:[Object(v.jsx)(L.a,Object(E.a)({label:"Home"},J(0))),Object(v.jsx)(L.a,Object(E.a)({label:"All Products"},J(1)))]})}),Object(v.jsx)(F,{value:c,index:0}),Object(v.jsx)(F,{value:c,index:1,children:Object(v.jsx)(W,{})})]})}var M=Object(o.a)({palette:{primary:{main:"#fefefe"},secondary:j.a},typography:{fontFamily:"Quicksand",fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600,fontWeightBold:700}});var Q=function(){return Object(v.jsx)(l.a,{theme:M,children:Object(v.jsxs)(s.a,{children:[Object(v.jsx)(H,{}),Object(v.jsxs)(u.c,{children:[Object(v.jsx)(u.a,{path:"/",children:Object(v.jsx)(A,{})}),Object(v.jsx)(u.a,{path:"/allproducts",children:Object(v.jsx)(W,{})})]})]})})};i.a.render(Object(v.jsx)(Q,{}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.4c93d418.chunk.js.map